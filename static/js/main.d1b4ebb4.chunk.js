(this["webpackJsonpcml-app-eng"]=this["webpackJsonpcml-app-eng"]||[]).push([[0],{34:function(e,t,a){},35:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(27),c=a.n(s),i=a(2),o=a(55),l=(a(34),a(35),a(36),a(37),a(28)),u=a(0),d=function(e){return Object(u.jsx)("div",{className:"cml-editor-container",children:Object(u.jsx)(l.Controlled,{onBeforeChange:function(t,a,n){e.onChange(n)},value:e.value,className:"cml-editor",options:{lineWrapping:!0,lint:!0,lineNumbers:!0,theme:"material"}})})},j=a(6),p=a(3),b=function(e,t,a,n,r){var s,c="",i="",o="",l=Object(j.a)(e);try{for(l.s();!(s=l.n()).done;){var u=s.value;o+="B"+(e.indexOf(u)+1).toString()+".1\n";var d,p="",b=Object(j.a)(u);try{for(b.s();!(d=b.n()).done;){var f,h=d.value,O=[],g=Object(j.a)(h);try{for(g.s();!(f=g.n()).done;){var x=f.value;if(0!==x.length){var v=h.indexOf(x)+1,k=x[1].toString()+"."+v.toString(),y=n[v-1].tanniValue;switch(x[0]){case"\u4f4d\u7f6e\u6c7a\u3081":i+="S"+k+"="+m(x[2][0],y,100).toString()+"\nA"+k+"="+m(x[2][1],y,1e3).toString()+"\nP"+k+"="+m(x[2][2],y).toString()+"\n",O.push("S".concat(k,",A").concat(k,",P").concat(k));break;case"\u4f4d\u7f6e\u6c7a\u3081+":i+="S"+k+"="+m(x[2][0],y,100).toString()+"\nA"+k+"="+m(x[2][1],y,1e3).toString()+"\nP"+k+"="+m(x[2][2],y).toString()+"\n",O.push("S".concat(k,",A").concat(k,",P").concat(k,"+"));break;case"\u62bc\u4ed8\u3051":i+="S"+k+"="+m(x[2][0],y,100).toString()+"\nA"+k+"="+m(x[2][1],y,1e3).toString()+"\nP"+k+"="+m(x[2][2],y).toString()+"\n",O.push("S".concat(k,",A").concat(k,",Q").concat(k));break;case"\u62bc\u4ed8\u3051+":i+="S"+k+"="+m(x[2][0],y,100).toString()+"\nA"+k+"="+m(x[2][1],y,1e3).toString()+"\nP"+k+"="+m(x[2][2],y).toString()+"\n",O.push("S".concat(k,",A").concat(k,",Q").concat(k,"+"));break;case"\u30bf\u30a4\u30de":i+="T"+k+"="+m(x[2][0],y).toString()+"\n",O.push("T".concat(k));break;case"\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c":a=!0;break;default:alert("ERROR-\u8868\u3092\u76f4\u3057\u3066\u304f\u3060\u3055\u3044")}}}}catch(A){g.e(A)}finally{g.f()}var N,D="",S="",w=Object(j.a)(t);try{for(w.s();!(N=w.n()).done;){var C=N.value;C[0][0]===e.indexOf(u).toString()&&C[0][1]===u.indexOf(h).toString()&&(D="X".concat(C[2],".1\n")),C[1][0]===e.indexOf(u).toString()&&C[1][1]===u.indexOf(h).toString()&&(S="X.1-\n")}}catch(A){w.e(A)}finally{w.f()}O.length>=1?p+=D+O.join(",")+"\n"+S:p+=D+S}}catch(A){b.e(A)}finally{b.f()}o+=p}}catch(A){l.e(A)}finally{l.f()}for(var T="\n",F=e[0][0].length,R=0,L=[5,11,12,13,14,23,24,25,26,27,28];R<L.length;R++)for(var E=L[R],P=1;P<=F;P++){var I=r["kNum"+E.toString()];T+="string"!==typeof I?"K"+E.toString()+"."+P.toString()+"="+I.toString()+"\n":"K"+E.toString()+"."+P.toString()+"="+I+"\n"}if(c+=i,c+=o,a){return c+"END"+T+"\nK81=1\nK82=1\nL1.1\nI1.1,JL2.1,T0.1\nI2.1,JL3.1,T0.1\nI3.1,JL4.1,T0.1\nI4.1,].1:].1,T0.1\nL2.1\n[1.1\nI1.1,W0.1,JL1.1\nL3.1\n[2.1\nI2.1,W0.1,JL1.1\nL4.1\n[3.1\nI3.1,W0.1,JL1.1\nEND"}return c+"END"+T},m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=parseFloat(e[0]),r=e[1];return r.includes("pps")||r.includes("%")||r.includes("msec")?Math.round(n):Math.round(n*t/a)},f=a.p+"static/media/\u6c7a\u5b9a\u3001\u30dc\u30bf\u30f3\u62bc\u4e0b38.47b42841.mp3",h=a.p+"static/media/\u6c7a\u5b9a\u3001\u30dc\u30bf\u30f3\u62bc\u4e0b44.6471b8fa.mp3",O=a(4),g=a(7);function x(e){for(var t=new ArrayBuffer(2*e.length),a=new Uint16Array(t),n=0,r=e.length;n<r;n++)a[n]=e.charCodeAt(n);return t}function v(){return(v=Object(g.a)(Object(O.a)().mark((function e(t){var a,n,r,s,c,i;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.split("\n"),e.next=3,navigator.serial.requestPort();case 3:return n=e.sent,e.next=6,n.open({baudRate:38400});case 6:r=n.writable.getWriter(),s=Object(j.a)(a),e.prev=8,s.s();case 10:if((c=s.n()).done){e.next=16;break}return i=c.value,e.next=14,r.write(x(i+"\r\n"));case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(8),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:return e.next=26,r.write(x("[.1\r\n"));case 26:return r.releaseLock(),e.next=29,n.close();case 29:case"end":return e.stop()}}),e,null,[[8,18,21,24]])})))).apply(this,arguments)}function k(){return(k=Object(g.a)(Object(O.a)().mark((function e(){var t,a;return Object(O.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serial.requestPort();case 2:return t=e.sent,e.next=5,t.open({baudRate:38400});case 5:return a=t.writable.getWriter(),e.next=8,a.write(x("]L\r\n"));case 8:return e.next=10,a.write(x("L1.1\r\n"));case 10:return e.next=12,a.write(x("END\r\n"));case 12:return e.next=14,a.write(x("$.1\r\n"));case 14:return a.releaseLock(),e.next=17,t.close();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useState)([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=Object(i.a)(r,2),c=s[0],l=s[1],d=function(e,t,a){var n=e.target.parentNode.id.split("-");n.shift();var r=Object(p.a)(t);r[parseFloat(n[0])][parseFloat(n[1])][parseFloat(n[2])]=[],a(r)},m=function(t){var a=t.currentTarget.parentNode.parentNode.id.split("-");a.shift();var n=parseFloat(a[0])-1,r=Object(p.a)(e.programData);if(e.jiku>1){var s,c=Object(j.a)(r);try{for(c.s();!(s=c.n()).done;){var i,o=s.value,l=Object(j.a)(o);try{for(l.s();!(i=l.n()).done;){i.value.splice(n,1)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){c.e(d)}finally{c.f()}e.setJiku(e.jiku-1);var u=Object(p.a)(e.tkData);n>-1&&u.splice(n,1),e.setTkData(u)}else r=[[[[]]]],e.setLoopData([]);e.setProgramData(r)},f=function(t){var a=t.currentTarget.id.split("-");a.shift();for(var n=[],r=0;r<=e.jiku-1;)n.push([]),r+=1;var s=Object(p.a)(e.programData);s[parseFloat(a[0])].splice(parseFloat(a[1]),0,n),e.setProgramData(s)},O=function(t){if(e.jiku<=14){var a=t.currentTarget.id.split("-");a.shift();var n,r=Object(p.a)(e.programData),s=Object(j.a)(r);try{for(s.s();!(n=s.n()).done;){var c,i=n.value,o=Object(j.a)(i);try{for(o.s();!(c=o.n()).done;){c.value.splice(parseFloat(a[0])-1,0,[])}}catch(u){o.e(u)}finally{o.f()}}}catch(u){s.e(u)}finally{s.f()}e.setProgramData(r);var l=Object(p.a)(e.tkData);l.push({kikou:"initial",susumiryou:[1,1],gensoku:[1,1],bunkai:300,tanniValue:1}),e.setTkData(l),e.setJiku(e.jiku+1)}else alert("Maximum axis number is 15")},g=function(t,a){var n=t.currentTarget.parentNode.parentNode.id.split("-");n.shift();var r=Object(p.a)(e.programData),s=r[parseFloat(n[0])],c=parseFloat(n[1]);switch(a){case"up":if(c>=1){var i=[s[c],s[c-1]];s[c-1]=i[0],s[c]=i[1]}break;case"down":if(c<s.length-1){var o=[s[c],s[c+1]];s[c+1]=o[0],s[c]=o[1]}}e.setProgramData(r)},x=function(t,a){var n=t.currentTarget.parentNode.id.split("-");n.shift();var r=parseFloat(n[0]),s=Object(p.a)(e.programData),c=Object(p.a)(e.tkData);switch(a){case"left":if(1!==r){var i,o=Object(j.a)(s);try{for(o.s();!(i=o.n()).done;){var l,u=i.value,d=Object(j.a)(u);try{for(d.s();!(l=d.n()).done;){var b=l.value,m=Object(p.a)(b[r-1]);b[r-1]=Object(p.a)(b[r-2]),b[r-2]=m}}catch(D){d.e(D)}finally{d.f()}}}catch(D){o.e(D)}finally{o.f()}var f=c[r-1];c[r-1]=c[r-2],c[r-2]=f}break;case"right":if(r!==e.jiku){var h,O=Object(j.a)(s);try{for(O.s();!(h=O.n()).done;){var g,x=h.value,v=Object(j.a)(x);try{for(v.s();!(g=v.n()).done;){var k=g.value,y=Object(p.a)(k[r-1]);k[r-1]=Object(p.a)(k[r]),k[r]=y}}catch(D){v.e(D)}finally{v.f()}}}catch(D){O.e(D)}finally{O.f()}var N=c[r-1];c[r-1]=c[r],c[r]=N}}e.setTkData(c),e.setProgramData(s)},y=function(t,a,n,r,s){if(t)e.setLoopInputObj([a,!1]),e.setInputBoxType("loop");else{var c=[n,a,r,s,!1];e.setTypeDataObj(c),e.setInputBoxType("typedata")}},N=function(e){e.currentTarget.className="dousa-box",e.currentTarget.style.cursor="grab"};var D=function(t,a){var n=t.currentTarget.parentNode.parentNode.id.split("-");n.shift();var r,s=Object(p.a)(e.loopData);s.forEach((function(e){e[0][0]===n[0]&&e[0][1]===n[1]&&(r=s.indexOf(e))}));var c=!0;switch(a){case"top-up":s.forEach((function(e){s.indexOf(e)!==r&&e[1][0]===s[r][0][0]&&e[1][1]===s[r][0][1]&&(c=!1)})),c&&parseFloat(s[r][0][1])>=1&&(s[r][0][1]=(parseFloat(s[r][0][1])-1).toString());break;case"top-down":s[r][0][1]!==s[r][1][1]&&(s[r][0][1]=(parseFloat(s[r][0][1])+1).toString());break;case"bottom-up":s[r][0][1]!==s[r][1][1]&&(s[r][1][1]=(parseFloat(s[r][1][1])-1).toString());break;case"bottom-down":var i,o=Object(j.a)(s);try{for(o.s();!(i=o.n()).done;){var l=i.value;s.indexOf(l)!==r&&l[0][0]===s[r][1][0]&&l[0][1]===s[r][1][1]&&(c=!1)}}catch(d){o.e(d)}finally{o.f()}var u=e.programData[s[r][1][0]].length;c&&parseFloat(s[r][1][1])<u-1&&(s[r][1][1]=(parseFloat(s[r][1][1])+1).toString())}e.setLoopData(s)};var S=Object(n.useRef)();return Object(u.jsxs)("div",{className:"program-block",children:[function(n){for(var r=[Object(u.jsx)("div",{className:"pg-l-empty pglemp0"},"first-pg-l-empty-box")],s=[],i=1;i<=e.jiku;){var o=i;1===o?s.push(Object(u.jsxs)("div",{className:"jiku-number unselectable",id:"jiku-"+o.toString(),children:[Object(u.jsx)("div",{className:"add-jiku-left",id:"addJiku-"+o,onClick:function(e){return O(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("div",{className:"add-jiku-right",id:"addJiku-"+(o+1),onClick:function(e){return O(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left move-jiku",onClick:function(e){return x(e,"left")}}),Object(u.jsxs)("p",{children:["Axis #",o,Object(u.jsx)("i",{className:"fas fa-trash trash-jiku",onClick:function(e){return m(e)}})]}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-right move-jiku",onClick:function(e){return x(e,"right")}})]},"jiku"+o)):15===o?s.push(Object(u.jsxs)("div",{className:"jiku-number unselectable",id:"jiku-"+o.toString(),children:[Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left move-jiku",onClick:function(e){return x(e,"left")}}),Object(u.jsxs)("p",{children:["Axis #",o,Object(u.jsx)("i",{className:"fas fa-trash trash-jiku",onClick:function(e){return m(e)}})]}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-right move-jiku",onClick:function(e){return x(e,"right")}})]},"jiku"+o)):s.push(Object(u.jsxs)("div",{className:"jiku-number unselectable",id:"jiku-"+o.toString(),children:[Object(u.jsx)("div",{className:"add-jiku-right",id:"addJiku-"+(o+1),onClick:function(e){return O(e)},children:Object(u.jsx)("div",{className:"add-jiku-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-left move-jiku",onClick:function(e){return x(e,"left")}}),Object(u.jsxs)("p",{children:["Axis #",o,Object(u.jsx)("i",{className:"fas fa-trash trash-jiku",onClick:function(e){return m(e)}})]}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-right move-jiku",onClick:function(e){return x(e,"right")}})]},"jiku"+o)),i+=1}s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-0firrrst")),s.push(Object(u.jsx)("div",{className:"grid-line",style:{gridColumn:"1/"+(e.jiku+1)}},"first-grid-line-key")),s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-ggggllllliiinnneeee"));var b,v=0,k=Object(j.a)(n);try{var w=function(){var n=b.value;r.push(Object(u.jsx)("div",{className:"pg-l-empty pglempgroup"},"pglempty"+v)),s.push(Object(u.jsxs)("div",{className:"dousa-group-kaishi unselectable",style:{gridColumn:"1/"+(e.jiku+1)},id:"dousaGroup-"+v,children:[Object(u.jsxs)("p",{children:["Start motion group #",v+1]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return function(t,a,n,r,s){var c=t.target.parentNode.id.split("-");c.shift();var i=Object(p.a)(a);if(i.length>1)i.splice(parseFloat(c[0]),1);else{i=[[[]]];for(var o=1;o<=e.jiku;)i[0][0].push([]),o+=1}var l=Object(p.a)(r);l.forEach((function(e){e[0][0]===c[0]&&c.push(l.indexOf(e))}));for(var u=l.length;u--;)l[u][0][0]===c[0]&&l.splice(u,1);n(i),s(l)}(t,e.programData,e.setProgramData,e.loopData,e.setLoopData)}})]},"dousagroup-"+v)),s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-"+v));var i,o=[],m=0,O=Object(j.a)(n);try{var x=function(){var b,O=i.value;e.loopData.forEach((function(t){if(t[0][0]===v.toString()&&t[0][1]===m.toString()){b=t[2];for(var a=t[1][1]-t[0][1]+1,n=2.3*a+(a-1)*(.2+.4),s=0;s<a;s++)o.push("loop");var c=[Object(u.jsxs)("div",{className:"loop-drag-top",children:[Object(u.jsx)("div",{onClick:function(e){return D(e,"top-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})}),Object(u.jsx)("div",{onClick:function(e){return D(e,"top-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})]},"loopdragtop"),Object(u.jsxs)("div",{className:"loop-drag-bottom",children:[Object(u.jsx)("div",{onClick:function(e){return D(e,"bottom-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})}),Object(u.jsx)("div",{onClick:function(e){return D(e,"bottom-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})]},"loop-drag-bottom")];t[0][1]===t[1][1]&&(c=[Object(u.jsx)("div",{className:"loop-drag-top",children:Object(u.jsx)("div",{onClick:function(e){return D(e,"top-up")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up"})})},"loopdragtop"),Object(u.jsx)("div",{className:"loop-drag-bottom",children:Object(u.jsx)("div",{onClick:function(e){return D(e,"bottom-down")},children:Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down"})})},"loop-drag-bottom")]);var i="loop-"+v+"-"+m;r.push(Object(u.jsxs)("div",{className:"pg-l-loop unselectable",style:{height:n+"rem"},id:i,children:[c.map((function(e){return e})),Object(u.jsxs)("p",{className:"loop-title",onClick:function(){return y(!0,i)},children:["Loop x ",b]}),Object(u.jsx)("i",{className:"fas fa-trash trash-block",onClick:function(t){return function(e,t,a){var n=e.target.parentNode.id.split("-");n.shift();var r=Object(p.a)(t),s=-1;r.forEach((function(e){e[0][0]===n[0]&&e[0][1]===n[1]&&(s=r.indexOf(e))})),-1!==s&&r.splice(s,1),a(r)}(t,e.loopData,e.setLoopData)}})]},"pglloop"+O))}})),0===o.length?r.push(Object(u.jsx)("div",{className:"pg-l-empty-loop",id:"emptyloop-"+v+"-"+m,onDragOver:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&t.preventDefault()}(t)},onDragEnter:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&(t.preventDefault(),t.target.className+=" pg-l-empty-loop-hovered")}(t)},onDragLeave:function(e){return function(e){e.target.className="pg-l-empty-loop"}(e)},onDrop:function(t){return function(t){var a=t.target.id.split("-");a.shift();var n=Object(p.a)(e.loopData);"\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand&&(n.push([[a[0],a[1]],[a[0],a[1]],2]),e.setLoopData(n),e.isMute||new Audio(h).play())}(t)}},"pglemploop-"+v+"-"+m)):o.shift(),0===m&&(s.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+v+"-0",onClick:function(e){return f(e)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1)},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow0"+v+"-"+m)),s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRbox-"+v+"-"+m)));var x,k=0,w=Object(j.a)(O);try{var C=function(){var t=x.value;if(0!==t.length){var n=[];t[2].forEach((function(e){e.includes("Enter value here")&&n.push("nope")}));var r="dousa-"+v+"-"+m+"-"+k,i=k,o="";switch(t[0]){case"\u4f4d\u7f6e\u6c7a\u3081":default:o="PTP";break;case"\u62bc\u4ed8\u3051":o="Push";break;case"\u30bf\u30a4\u30de":o="Timer";break;case"\u4f4d\u7f6e\u6c7a\u3081+":o="PTP+";break;case"\u62bc\u4ed8\u3051+":o="Push+";break;case"\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c":o="Exec."}n.length>0?s.push(Object(u.jsxs)("div",{ref:S,className:"dousa-box unselectable",draggable:"true",onDragStart:function(e){},onDragEnd:function(e){return N(e)},onMouseEnter:function(t){return e.setCurrentDraggedCommand(t.currentTarget.id)},id:r,children:[Object(u.jsx)("div",{className:"no-value-circle"}),Object(u.jsxs)("p",{className:"dousa-title",onClick:function(){return y(!1,r,i,t[0],t[1])},children:[o,Object(u.jsx)("span",{style:{marginRight:"0.2rem"}}),"#",t[1]]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return d(t,e.programData,e.setProgramData)}})]},v+"dousabox"+m+"-"+k)):s.push(Object(u.jsxs)("div",{ref:S,className:"dousa-box unselectable",draggable:"true",onDragStart:function(e){},onDragEnd:function(e){return N(e)},onMouseEnter:function(t){return e.setCurrentDraggedCommand(t.currentTarget.id)},id:r,children:[Object(u.jsxs)("p",{className:"dousa-title",onClick:function(){return y(!1,r,i,t[0],t[1])},children:[o,Object(u.jsx)("span",{style:{marginRight:"0.2rem"}}),"#",t[1]]}),Object(u.jsx)("i",{className:"fas fa-trash",onClick:function(t){return d(t,e.programData,e.setProgramData)}})]},v+"dousabox"+m+"-"+k))}else s.push(Object(u.jsx)("div",{ref:a,onDragOver:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"!==e.currentDraggedCommand&&"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"!==e.currentDraggedCommand&&"NOPE"!==e.currentDraggedCommand&&t.preventDefault()}(t)},onDragEnter:function(t){return function(t){"\u7e70\u308a\u8fd4\u3057"!==e.currentDraggedCommand&&"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"!==e.currentDraggedCommand&&"NOPE"!==e.currentDraggedCommand&&(t.preventDefault(),t.target.className+=" pg-empty-hovered")}(t)},onDragLeave:function(e){return function(e){e.target.className="pg-empty-box"}(e)},onDrop:function(t){return function(t){var a=t.target.id.split("-");a.shift();var n=Object(p.a)(e.programData),r=new Audio(h);if("\u7e70\u308a\u8fd4\u3057"===e.currentDraggedCommand||"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand||"NOPE"===e.currentDraggedCommand||e.currentDraggedCommand.includes("-")){if(e.currentDraggedCommand.includes("-")){var s=e.currentDraggedCommand.split("-");s.shift(),n[parseFloat(a[0])][parseFloat(a[1])][parseFloat(a[2])]=n[parseFloat(s[0])][parseFloat(s[1])][parseFloat(s[2])],n[parseFloat(s[0])][parseFloat(s[1])][parseFloat(s[2])]=[],e.setProgramData(n),e.isMute||r.play()}}else{n[parseFloat(a[0])][parseFloat(a[1])][parseFloat(a[2])]=[e.currentDraggedCommand,c[parseFloat(a[2])]+1,[["Enter value here","pps"],["Enter value here","pps"],["Enter value here","pps"]]];var i=Object(p.a)(c);i[parseFloat(a[2])]+=1,l(i),e.setProgramData(n),e.isMute||r.play()}}(t)},className:"pg-empty-box",id:"dousa-"+v+"-"+m+"-"+k},v+"emptybox"+m+"-"+k));k+=1};for(w.s();!(x=w.n()).done;)C()}catch(T){w.e(T)}finally{w.f()}s.push(Object(u.jsxs)("div",{className:"trash-row-right-box",id:"trashRow-"+v+"-"+m,children:[Object(u.jsx)("i",{onClick:function(t){return function(t,a,n,r,s){var c=t.currentTarget.parentNode.id.split("-");c.shift();var i=Object(p.a)(a);if(i[parseFloat(c[0])].length>1)i[parseFloat(c[0])].splice(parseFloat(c[1]),1);else{for(var o=[],l=1;l<=e.jiku;)o.push([]),l+=1;i[parseFloat(c[0])]=[o]}var u=Object(p.a)(r);u.forEach((function(e){e[0][0]===c[0]&&e[0][1]===c[1]?e[1][1]===e[0][1]&&u.splice(u.indexOf(e),1):e[1][0]===c[0]&&e[1][1]===c[1]&&(e[1]=[c[0],(parseFloat(c[1])-1).toString()])})),u.forEach((function(e){a[parseFloat(e[0][0])].length-1<e[1][1]-parseFloat(e[0][1])&&(e[1][1]=(parseFloat(e[1][1])-1).toString())})),n(i),s(u)}(t,e.programData,e.setProgramData,e.loopData,e.setLoopData)},className:"fas fa-trash"}),Object(u.jsxs)("div",{className:"move-row-cont",children:[Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-up move-row-up",onClick:function(e){return g(e,"up")}}),Object(u.jsx)("i",{className:"fas fa-arrow-alt-circle-down move-row-down",onClick:function(e){return g(e,"down")}})]})]},"trashR-"+v+"-"+m)),m!==n.length-1?(s.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+v+"-"+(m+1),onClick:function(e){return f(e)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1)},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow"+v+"-"+m)),s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRboxaddR-"+v+"-"+m))):(s.push(Object(u.jsx)("div",{ref:t,id:"addRow-"+v+"-"+(m+1),onClick:function(e){return f(e)},onDragOver:function(t){return function(t){"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand&&t.preventDefault()}(t)},onDragEnter:function(e){return function(e){e.currentTarget.style.height="30px",e.currentTarget.querySelector(".add-row-plus-cont").style.display="flex"}(e)},onDragLeave:function(e){return function(e){e.currentTarget.style.height="0.2rem"}(e)},onDrop:function(t){return function(t){var a=Object(p.a)(e.programData);if(a.length<=29){var n=t.currentTarget.id.split("-");if(n.shift(),"\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0"===e.currentDraggedCommand){for(var r=[[]],s=0;s<e.jiku;s++)r[0].push([]);a.splice(n[0]+1,0,r),e.setProgramData(a)}t.currentTarget.style.height="0.2rem"}else alert("Maximum motion group number is 30")}(t)},className:"pg-add-row",style:{gridColumn:"1/"+(e.jiku+1),height:"0.4rem"},children:Object(u.jsx)("div",{className:"add-row-plus-cont",children:Object(u.jsx)("i",{className:"fas fa-plus"})})},"addrow"+v+"-"+m)),s.push(Object(u.jsx)("div",{className:"empty-right-box"},"empRboxaddR-"+v+"-"+m))),m+=1};for(O.s();!(i=O.n()).done;)x()}catch(k){O.e(k)}finally{O.f()}v+=1};for(k.s();!(b=k.n()).done;)w()}catch(C){k.e(C)}finally{k.f()}return Object(u.jsxs)("div",{className:"program-grid",children:[Object(u.jsx)("div",{className:"pg-left",children:r}),Object(u.jsx)("div",{className:"program-main-grid",style:{gridTemplateColumns:"repeat("+e.jiku+", 3fr) 1fr"},children:s})]})}(e.programData),Object(u.jsxs)("div",{className:"enter-button",children:[Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return function(e){return v.apply(this,arguments)}(b(e.programData,e.loopData,e.isNyuryokuShingou,e.tkData,e.settings))},children:"Run"}),Object(u.jsx)("div",{style:{height:10,width:30}}),Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return function(){return k.apply(this,arguments)}()},children:"Stop"}),Object(u.jsx)("div",{style:{height:10,width:30}}),Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return e.setCmlOutput(b(e.programData,e.loopData,e.isNyuryokuShingou,e.tkData,e.settings))},children:"Convert to CML"})]})]})},N=function(e){var t=Object(n.useRef)(),a=e.tkData,r=e.parentId.split("-");r.shift();var s=parseFloat(r[2]),c=Object(p.a)(e.programData),l=function(){e.setInputBoxType("none")},d="initial";"initial"!==a[s].kikou&&(d="\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"===a[s].kikou?"\xb0":"mm");var b,m={bangouRange:250,inputForm:"initial"===d?[["Speed Data",["100pps"],""],["Accel. Data",["kpps\xb2"],""],["Position Data",["Pulse"],""]]:[["Speed Data",["100pps",d+"/s"],""],["Accel. Data",["kpps\xb2",d+"/s\xb2"],""],["Position Data",["Pulse",d],""]]},f={bangouRange:250,inputForm:"initial"===d?[["Speed Data",["100pps"],""],["Accel. Data",["kpps\xb2"],""],["Position Data",["Pulse"],""]]:[["Speed Data",["100pps",d+"/s"],""],["Accel. Data",["kpps\xb2",d+"/s\xb2"],""],["Position Data",["Pulse",d],""]]},h={bangouRange:250,inputForm:"initial"===d?[["Speed Data",["100pps"],""],["Accel. Data",["kpps\xb2"],""],["Position Data",["Pulse"],""]]:[["Speed Data",["100pps",d+"/s"],""],["Accel. Data",["kpps\xb2",d+"/s\xb2"],""],["Position Data",["Pulse",d],""]]},O={bangouRange:250,inputForm:"initial"===d?[["Speed Data",["100pps"],""],["Accel. Data",["kpps\xb2"],""],["Position Data",["Pulse"],""]]:[["Speed Data",["100pps",d+"/s"],""],["Accel. Data",["kpps\xb2",d+"/s\xb2"],""],["Position Data",["Pulse",d],""]]};switch(e.dousaType){case"\u4f4d\u7f6e\u6c7a\u3081":default:b=m;break;case"\u62bc\u4ed8\u3051":b=h;break;case"\u30bf\u30a4\u30de":b={bangouRange:5,inputForm:[["Timer Data",["msec"],""]]};break;case"\u4f4d\u7f6e\u6c7a\u3081+":b=f;break;case"\u62bc\u4ed8\u3051+":b=O;break;case"\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c":b={bangouRange:4}}var g=function(e){var a=e.dataFormat;return Object(u.jsxs)("div",{className:"typeDataInDousa",ref:t,children:[Object(u.jsx)("div",{className:"close-typedata",children:Object(u.jsx)("i",{onClick:function(){return l()},className:"fas fa-times-circle type-times-circle"})}),Object(u.jsxs)("div",{className:"typedata-input-line",children:[Object(u.jsx)("p",{className:"typedata-var",children:"#"}),"\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c"===e.dousaType?Object(u.jsx)(S,{range:a.bangouRange,jiku:e.jiku,dousaType:e.dousaType,dousaNum:e.dousaNum,popupRef:e.popupRef,programData:e.programData,setProgramData:e.setProgramData,indexArr:e.indexArr}):Object(u.jsx)("div",{className:"current-num-container",children:Object(u.jsx)("p",{className:"current-num",children:Object(p.a)(e.programData)[parseFloat(r[0])][parseFloat(r[1])][parseFloat(r[2])][1]})})]},"input-num-line"),"\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c"===e.dousaType?Object(u.jsx)(u.Fragment,{}):a.inputForm.map((function(e){return Object(u.jsxs)("div",{className:"typedata-input-line",children:[Object(u.jsx)("p",{className:"typedata-var",children:e[0]}),Object(u.jsx)(x,{index:a.inputForm.indexOf(e),tanniArr:e[1]}),Object(u.jsx)("p",{children:e[2]})]},e[0])})),Object(u.jsx)(o.a,{className:"type-data-button",variant:"contained",onClick:function(){return function(){var a=[];if(t.current.querySelectorAll(".type-data-input").forEach((function(e){isNaN(parseFloat(e.value))&&a.push("NAN")})),0===a.length){for(var n=Object(p.a)(e.programData),s=[],c=t.current.querySelectorAll(".type-data-input"),i=t.current.querySelectorAll(".select-tanni"),o=0;o<c.length;)s.push([c[o].value,i[o].value]),o++;var u,d=Object(j.a)(n);try{for(d.s();!(u=d.n()).done;){var b,m=u.value,f=Object(j.a)(m);try{for(f.s();!(b=f.n()).done;){var h=b.value[e.jiku];h.length>0&&h[1]===e.dousaNum&&h[0]===e.dousaType&&(h[2]=s)}}catch(O){f.e(O)}finally{f.f()}}}catch(O){d.e(O)}finally{d.f()}n[parseFloat(r[0])][parseFloat(r[1])][parseFloat(r[2])][2]=s,e.setProgramData(n),l()}else a=[],alert("Enter value here")}()},children:"OK"})]})},x=function(e){var t=e.index,a=e.tanniArr,s=Object(n.useState)(c[parseFloat(r[0])][parseFloat(r[1])][parseFloat(r[2])][2][t][0]),o=Object(i.a)(s,2),l=o[0],d=o[1],j=Object(n.useState)(c[parseFloat(r[0])][parseFloat(r[1])][parseFloat(r[2])][2][t][1]),p=Object(i.a)(j,2),b=p[0],m=p[1];return Object(u.jsxs)(u.Fragment,{children:[l.toString().includes("Enter value here")?Object(u.jsx)("input",{className:"type-data-input",required:!0,placeholder:l,onChange:function(e){return d(e.target.value)}}):Object(u.jsx)("input",{className:"type-data-input",required:!0,defaultValue:l,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("div",{className:"type-data-tanni",children:Object(u.jsx)("select",{className:"select-tanni",value:b,onChange:function(e){return m(e.target.value)},children:a.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})})]})};return Object(u.jsx)(g,{dataFormat:b,jiku:e.jiku,dousaType:e.dousaType,dousaNum:e.dousaNum,popupRef:t,programData:e.programData,setProgramData:e.setProgramData,indexArr:r})},D=function(e){var t=Object(n.useRef)(),a=e.parentId.split("-");a.shift();var r=Object(p.a)(e.loopData),s=Object(n.useState)(r[parseFloat(a[0])][2]),c=Object(i.a)(s,2),l=c[0],d=c[1],j=function(){e.setInputBoxType("none")};return Object(u.jsxs)("div",{className:"typeDataInDousa",ref:t,children:[Object(u.jsx)("div",{className:"close-typedata",children:Object(u.jsx)("i",{onClick:function(){return j()},className:"fas fa-times-circle type-times-circle"})}),Object(u.jsxs)("div",{className:"typedata-input-line",children:[Object(u.jsx)("p",{children:"Loop"}),Object(u.jsx)("input",{className:"type-data-input",required:!0,value:l,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("p",{children:"times"})]}),Object(u.jsx)(o.a,{className:"type-data-button",variant:"contained",onClick:function(){return function(){var n=[];if(isNaN(t.current.querySelector(".type-data-input").value)&&n.push("NAN"),0===n.length){var r=Object(p.a)(e.loopData),s=t.current.querySelector(".type-data-input").value;r[parseFloat(a[0])][2]=s,e.setLoopData(r),j()}else n=[],alert("Enter value here")}()},children:"OK"})]})},S=function(e){var t=e.popupRef,a=e.indexArr,r=Object(p.a)(e.programData),s=Object(n.useState)(r[parseFloat(a[0])][parseFloat(a[1])][parseFloat(a[2])][1]),c=Object(i.a)(s,2),o=c[0],l=c[1],d=Object(n.useRef)(),b=Object(n.useRef)(),m=function(n){var s=parseFloat(n.currentTarget.id.split("-")[2]);l(s),d.current.style.display="none";var c,i=[],o=Object(j.a)(r);try{for(o.s();!(c=o.n()).done;){var u,p=c.value,b=Object(j.a)(p);try{for(b.s();!(u=b.n()).done;){var m=u.value[e.jiku];m[1]===s&&m[0]===e.dousaType&&i.push(m[2])}}catch(g){b.e(g)}finally{b.f()}}}catch(g){o.e(g)}finally{o.f()}if(i.length>0){r[parseFloat(a[0])][parseFloat(a[1])][parseFloat(a[2])][2]=i[0];for(var f=t.current.querySelectorAll(".type-data-input"),h=t.current.querySelectorAll(".select-tanni"),O=0;O<f.length;)f[O].value=i[0][O][0],h[O].value=i[0][O][1],O++}r[parseFloat(a[0])][parseFloat(a[1])][parseFloat(a[2])][1]=s,e.setProgramData(r)};return Object(u.jsxs)("div",{className:"num-dropdown",children:[Object(u.jsxs)("div",{className:"currentNum-container",onClick:function(){return function(){var e="block"===d.current.style.display;d.current.style.display=e?"none":"block"}()},children:[Object(u.jsx)("p",{ref:b,className:"currentNum",children:o}),Object(u.jsx)("i",{className:"fas fa-caret-down"})]}),Object(u.jsx)("div",{ref:d,className:"num-dropdown-item-container",children:function(){for(var t=[],a=1;a<=e.range;)t.push(Object(u.jsx)("div",{className:"num-dropdown-item",id:"num-dropdown-"+a,onClick:function(e){return m(e)},children:Object(u.jsx)("p",{children:a})},a)),a+=1;return t}()})]})};function w(e,t){var a="CML-app-"+e,r=Object(n.useState)((function(){var e=localStorage.getItem(a);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),s=Object(i.a)(r,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(c))}),[a,c]),[c,o]}var C=function(e){var t=e.text,a=Object(n.useRef)();return Object(u.jsxs)("div",{className:"settings-panel-item-info-container",onMouseEnter:function(){return a.current.classList.add("shown"),a.current.classList.remove("hidden"),void setTimeout((function(){a.current.classList.contains("hidden")||(a.current.style.display="block")}),300)},onMouseLeave:function(){return a.current.classList.remove("shown"),a.current.classList.add("hidden"),void(a.current.style.display="none")},children:[Object(u.jsx)("i",{className:"fa-solid fa-circle-question settings-panel-item-info"}),Object(u.jsx)("div",{ref:a,className:"settings-panel-item-info-box",children:Object(u.jsx)("p",{children:t})})]})},T=(a(43),function(e){var t=e.closePanel,a=e.settings,r=e.setSettings,s={kyoutuu:[{kNum:5,name:"inposition",label:"\u30a4\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3\u5e45",inputType:"text",infoText:"\u30a4\u30f3\u30dd\u30b8\u30b7\u30e7\u30f3\u3068\u8a8d\u8b58\u3059\u308b\u5e45\u3092\u8a2d\u5b9a: 10.3 \u53c2\u7167"}],oshituke:[{kNum:11,name:"oshitukeDousaMode",label:"\u62bc\u4ed8\u3051\u52d5\u4f5c\u30e2\u30fc\u30c9",inputType:"dropdown",inputs:["\u9023\u7d9a(\u7247\u65b9\u5411)","\u6709\u9650(\u7247\u65b9\u5411)","\u9023\u7d9a(\u4e21\u65b9\u5411)","\u6709\u9650(\u4e21\u65b9\u5411)"],infoText:Object(u.jsxs)(u.Fragment,{children:["\u62bc\u4ed8\u52d5\u4f5c\u6642\u306e\u62bc\u4ed8\u65b9\u5411",Object(u.jsx)("br",{}),"\u9023\u7d9a\u62bc\u4ed8\u53c8\u306f\u6709\u9650\u62bc\u4ed8\u3092\u8a2d\u5b9a",Object(u.jsx)("br",{}),"():\u30c8\u30eb\u30af\u304c\u5236\u9650\u3055\u308c\u308b\u65b9\u5411",Object(u.jsx)("br",{}),"\u7247:\u52d5\u4f5c\u65b9\u5411\u306b\u5411\u304b\u3063\u3066\u306e\u307f\u30c8\u30eb\u30af\u5236\u9650\u52d5\u4f5c",Object(u.jsx)("br",{}),"\u4e21:\u52d5\u4f5c\u65b9\u5411\u306b\u304b\u304b\u308f\u3089\u305a\u30c8\u30eb\u30af\u5236\u9650\u52d5\u4f5c"]})},{kNum:12,name:"oshitukeDousaTorque",label:"\u62bc\u4ed8\u3051\u52d5\u4f5c\u30c8\u30eb\u30af",inputType:"text",infoText:Object(u.jsxs)(u.Fragment,{children:["\u30b3\u30de\u30f3\u30c9\uff31\u53c8\u306f\uff3a\u306b\u3088\u308b\u62bc\u4ed8\u3051\u52d5\u4f5c\u6642\u306e",Object(u.jsx)("br",{}),"\u30c8\u30eb\u30af\u8a2d\u5b9a\u3092\u5b9a\u683c\u30c8\u30eb\u30af\u306b\u5bfe\u3059\u308b\uff05\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002"]})},{kNum:13,name:"oshitukeDousaTime",label:"\u62bc\u4ed8\u3051\u52d5\u4f5c\u4fdd\u6301\u6642\u9593",inputType:"text",infoText:"\u62bc\u4ed8\u52d5\u4f5c\u6642\u9593\u3092\u8a2d\u5b9a8.6.2 \u53c2\u7167"}],genten:[{kNum:22,name:"gentenShingou",label:"\u539f\u70b9\u4fe1\u53f7\u6e90",inputType:"dropdown",inputs:["\u62bc\u5f53\u539f\u70b9\u691c\u51fa","\u62bc\u5f53\u539f\u70b9\u691c\u51fa(\u81ea)","\u539f\u70b9\u30bb\u30f3\u30b5","\u539f\u70b9\u30bb\u30f3\u30b5(\u81ea)"],infoText:Object(u.jsxs)(u.Fragment,{children:["\u539f\u70b9\u691c\u51fa\u4fe1\u53f7\u6e90\u3068\u691c\u51fa\u65b9\u6cd5\u3092\u8a2d\u5b9a",Object(u.jsx)("br",{}),"\u539f\u70b9\u30bb\u30f3\u30b5\u306f\u3001\u5165\u529b\u70b9\uff11\u306b\u306e\u307f\u5272\u4ed8\u53ef\u80fd",Object(u.jsx)("br",{}),"\uff08\u81ea\uff09\uff1a\u96fb\u6e90 ON \u6642\u3001\u81ea\u52d5\u539f\u70b9\u691c\u51fa\u52d5\u4f5c\u3092\u958b\u59cb",Object(u.jsx)("br",{}),"11.1 \u53c2\u7167"]})},{kNum:23,name:"gentenSpeed",label:"\u539f\u70b9\u691c\u51fa\u901f\u5ea6",inputType:"text",infoText:"\u539f\u70b9\u691c\u51fa\u52d5\u4f5c\u6642\u306e\u901f\u5ea6\u3092\u8a2d\u5b9a"},{kNum:24,name:"gentenAccel",label:"\u539f\u70b9\u691c\u51fa\u52a0\u901f\u5ea6",inputType:"text",infoText:"\u539f\u70b9\u691c\u51fa\u52d5\u4f5c\u6642\u306e\u52a0\u901f\u5ea6\u3092\u8a2d\u5b9a"},{kNum:25,name:"gentenDirection",label:"\u539f\u70b9\u691c\u51fa\u65b9\u5411",inputType:"text",infoText:"\u539f\u70b9\u691c\u51fa\u52d5\u4f5c\u6642\u306e\u52d5\u4f5c\u65b9\u5411\u3092\u8a2d\u5b9a"},{kNum:26,name:"gentenOffset",label:"\u539f\u70b9\u30aa\u30d5\u30bb\u30c3\u30c8\u8ddd\u96e2",inputType:"text",infoText:Object(u.jsxs)(u.Fragment,{children:["\u691c\u51fa\u3057\u305f\u539f\u70b9\u304b\u3089\u5ea7\u6a19\u539f\u70b9\u307e\u3067\u306e",Object(u.jsx)("br",{}),"\u30aa\u30d5\u30bb\u30c3\u30c8\u91cf\u3092\u8a2d\u5b9a"]})},{kNum:27,name:"gentenUnit",label:"\u539f\u70b9\u30aa\u30d5\u30bb\u30c3\u30c8\u8ddd\u96e2\u5358\u4f4d",inputType:"dropdown",inputs:["100","10","1"],infoText:"\u30aa\u30d5\u30bb\u30c3\u30c8\u8a2d\u5b9a\u6642\u306e\u5358\u4f4d\u3092\u8a2d\u5b9a"},{kNum:28,name:"gentenTorque",label:"\u62bc\u5f53\u539f\u70b9\u691c\u51fa\u30c8\u30eb\u30af",inputType:"text",infoText:Object(u.jsxs)(u.Fragment,{children:["\u62bc\u5f53\u539f\u70b9\u691c\u51fa\u6642\u3001\u6a5f\u68b0\u30b9\u30c8\u30c3\u30d1\u3092\u691c\u51fa\u3059\u308b\u30c8\u30eb\u30af\u3092",Object(u.jsx)("br",{}),"\u5b9a\u683c\u30c8\u30eb\u30af\u306b\u5bfe\u3059\u308b\u6bd4\u7387\u3067\u8a2d\u5b9a",Object(u.jsx)("br",{}),"11.1.1 \u53c2\u7167"]})}]},c=Object(n.useState)(a),l=Object(i.a)(c,2),d=l[0],j=l[1];Object(n.useEffect)((function(){console.log(d)}),[d]);var p=function(e){var t=e.data,a=Object(n.useState)(d["kNum"+t.kNum.toString()]),r=Object(i.a)(a,2),s=r[0],c=r[1];switch(t.inputType){case"text":return Object(u.jsxs)("div",{className:"settings-panel-item",children:[Object(u.jsxs)("div",{className:"settings-panel-item-label-container",children:[Object(u.jsx)("p",{className:"settings-panel-item-label",children:t.label}),Object(u.jsx)(C,{text:t.infoText})]}),Object(u.jsx)("input",{className:"settings-panel-item-input",placeholder:s,onChange:function(e){return function(e){c(e);var a=d;a["kNum"+t.kNum.toString()]=e,j(a)}(e.target.value)}})]});case"dropdown":return Object(u.jsxs)("div",{className:"settings-panel-item",children:[Object(u.jsxs)("div",{className:"settings-panel-item-label-container",children:[Object(u.jsx)("p",{className:"settings-panel-item-label",children:t.label}),Object(u.jsx)(C,{text:t.infoText})]}),Object(u.jsx)("div",{className:"settings-panel-item-input",children:Object(u.jsx)(F,{setItem:function(e){var a=t.inputs.indexOf(e);c(a);var n=d;n["kNum"+t.kNum.toString()]=a,j(n)},defaultItem:t.inputs[s],itemArr:t.inputs})})]});default:return}};return Object(u.jsxs)("div",{id:"settings-panel",children:[Object(u.jsx)("div",{id:"close-settings-panel",onClick:function(){return t()},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsxs)("div",{className:"settings-panel-block",children:[Object(u.jsx)("p",{className:"settings-panel-block-label",children:"\u5171\u901a\u8a2d\u5b9a"}),Object(u.jsx)("div",{className:"settings-panel-block-contents",children:s.kyoutuu.map((function(e,t){return Object(u.jsx)(p,{data:e},t)}))})]}),Object(u.jsxs)("div",{className:"settings-panel-block",children:[Object(u.jsx)("p",{className:"settings-panel-block-label",children:"\u62bc\u4ed8\u3051\u52d5\u4f5c\u8a2d\u5b9a"}),Object(u.jsx)("div",{className:"settings-panel-block-contents",children:s.oshituke.map((function(e,t){return Object(u.jsx)(p,{data:e},t)}))})]}),Object(u.jsxs)("div",{className:"settings-panel-block",children:[Object(u.jsx)("p",{className:"settings-panel-block-label",children:"\u539f\u70b9\u691c\u51fa\u8a2d\u5b9a"}),Object(u.jsx)("div",{className:"settings-panel-block-contents",children:s.genten.map((function(e,t){return Object(u.jsx)(p,{data:e},t)}))})]}),Object(u.jsx)("div",{id:"save-changes-button",children:Object(u.jsx)(o.a,{variant:"contained",onClick:function(){return t(),void r(d)},children:"\u5909\u66f4\u3092\u4fdd\u5b58"})})]})}),F=function(e){var t=e.itemArr,a=e.setItem,r=Object(n.useState)(void 0!==e.defaultItem?e.defaultItem:t[0]),s=Object(i.a)(r,2),c=s[0],o=s[1],l=Object(n.useRef)(),d=Object(n.useRef)(),j=function(e){o(e.target.innerText),a(e.target.innerText),l.current.style.display="none"};return Object(u.jsxs)("div",{className:"dropdown-selector",children:[Object(u.jsxs)("div",{ref:d,className:"selected-item-smaller unselectable",onClick:function(){l.current.style.display="block"},children:[c,Object(u.jsx)("i",{className:"fas fa-angle-down"})]}),Object(u.jsx)("div",{ref:l,className:"dropdown-items unselectable",children:t.map((function(e){return Object(u.jsx)("div",{className:"dropdown-item unselectable",onClick:function(e){return j(e)},children:e},e)}))})]})},R=function(e){var t=e.params,a=(t.tannikannsannData,Object(n.useState)(t.history.length>=1?t.history[0][1]:[])),r=Object(i.a)(a,2),s=r[0],c=r[1],l=Object(n.useRef)();Object(n.useEffect)((function(){s.forEach((function(e){l.current.querySelector("#jiku-"+e).checked=!0}))}),[s]);var d=function(e,t){var a=e.currentTarget.checked,n=Object(p.a)(s);if(a&&!s.includes(t))n.push(t);else{var r=n.indexOf(t);r>-1&&n.splice(r,1)}c(n)};return Object(u.jsxs)("div",{className:"tanni-wizard unselectable",children:[Object(u.jsx)("p",{className:"tanni-wizard-title",children:"Select Axis"}),Object(u.jsx)("div",{ref:l,className:"tanni-wizard-selector tanni-jiku",children:function(){for(var e=[],a=1,n=function(){var t=a;e.push(Object(u.jsxs)("div",{className:"jiku-input-container",children:[Object(u.jsx)("input",{type:"checkbox",onChange:function(e){return d(e,t)},id:"jiku-"+t,name:"jiku-sentaku"},t+"input"),Object(u.jsxs)("label",{htmlFor:"jiku-"+t,children:["Axis #",t]},t+"label")]},t+"jiku-input")),a+=1};a<=t.jiku;)n();return e}()}),Object(u.jsx)("div",{className:"tanni-wizard-buttons",children:Object(u.jsx)(o.a,{className:"tanni-next",variant:"contained",onClick:function(){return function(){var e=[];if(l.current.querySelectorAll("input").forEach((function(t){!0===t.checked&&e.push("true")})),e.length>=1){var a=Object(p.a)(t.history);a.length>=1?a[0][1]=s:a.push(["jiku",s]),t.setHistory(a),t.setWizardInput(["kikou",s])}else alert("Select axis")}()},children:"NEXT"})})]})},L=function(e){var t=e.params,a=t.tannikannsannData,r=t.history[0][1][0]-1,s=Object(n.useState)(t.history.length>=2?t.history[1][1]:"initial"!==a[r].kikou?a[r].kikou:"\u30dc\u30fc\u30eb\u306d\u3058"),c=Object(i.a)(s,2),l=c[0],d=c[1],j=Object(n.useRef)();Object(n.useEffect)((function(){var e=["\u30dc\u30fc\u30eb\u306d\u3058","\u30d9\u30eb\u30c8\u99c6\u52d5","\u30e9\u30c3\u30af\u30a2\u30f3\u30c9\u30d4\u30cb\u30aa\u30f3","\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"].indexOf(l)+1;j.current.querySelector("#kikou-"+e).checked=!0}),[l]);return Object(u.jsxs)("div",{className:"tanni-wizard unselectable",children:[Object(u.jsx)("p",{className:"tanni-wizard-title",children:"Select Application"}),Object(u.jsxs)("div",{ref:j,className:"tanni-wizard-selector tanni-kikou",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",onClick:function(e){return d(e.currentTarget.value)},id:"kikou-1",name:"kikou-sentaku",value:"\u30dc\u30fc\u30eb\u306d\u3058"}),Object(u.jsx)("label",{htmlFor:"kikou-1",children:"Ball screw"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",onClick:function(e){return d(e.currentTarget.value)},id:"kikou-2",name:"kikou-sentaku",value:"\u30d9\u30eb\u30c8\u99c6\u52d5"}),Object(u.jsx)("label",{htmlFor:"kikou-2",children:"Belt drive"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",onClick:function(e){return d(e.currentTarget.value)},id:"kikou-3",name:"kikou-sentaku",value:"\u30e9\u30c3\u30af\u30a2\u30f3\u30c9\u30d4\u30cb\u30aa\u30f3"}),Object(u.jsx)("label",{htmlFor:"kikou-3",children:"Rack and pinion"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"radio",onClick:function(e){return d(e.currentTarget.value)},id:"kikou-4",name:"kikou-sentaku",value:"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"}),Object(u.jsx)("label",{htmlFor:"kikou-4",children:"Index table"})]})]}),Object(u.jsxs)("div",{className:"tanni-wizard-buttons",children:[Object(u.jsx)(o.a,{className:"tanni-back",variant:"contained",onClick:function(){t.setWizardInput(["jiku",t.history[0][1]])},children:"BACK"}),Object(u.jsx)(o.a,{className:"tanni-next",variant:"contained",onClick:function(){return function(){var e=[];if(j.current.querySelectorAll("input").forEach((function(t){!0===t.checked&&e.push("true")})),1!==e.length)alert("Select an application");else{var a=Object(p.a)(t.history);1===t.history.length?(a.push(["kikou",l]),"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"!==l?t.setWizardInput(["susumiryou",l]):(a.push(["susumiryou",360,360]),t.setWizardInput(["gensoku",l]))):(a[1]=["kikou",l],"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"!==l?t.setWizardInput(["susumiryou",l]):(a[2]=["susumiryou",1],t.setWizardInput(["gensoku",l]))),t.setHistory(a)}}()},children:"NEXT"})]})]})},E=function(e){var t=e.params,a=t.tannikannsannData,r=t.history[0][1][0]-1,s=t.history[1][1],c="",l=Math.PI,d=Object(n.useState)(t.history.length>=3?parseFloat(t.history[2][2]):a[r].susumiryou[0]),j=Object(i.a)(d,2),b=j[0],m=j[1];switch(s){case"\u30dc\u30fc\u30eb\u306d\u3058":c="Ball screw lead",l=1;break;case"\u30d9\u30eb\u30c8\u99c6\u52d5":c="Pulley diameter";break;case"\u30e9\u30c3\u30af\u30a2\u30f3\u30c9\u30d4\u30cb\u30aa\u30f3":c="Pinion diameter";break;default:c="Ball screw lead"}return Object(u.jsxs)("div",{className:"tanni-wizard",children:[Object(u.jsx)("p",{className:"tanni-wizard-title unselectable",children:"Travel distance per motor revolution"}),Object(u.jsxs)("div",{className:"tanni-wizard-selector tanni-susumi",children:[Object(u.jsxs)("div",{className:"susumi-1",children:[Object(u.jsxs)("p",{className:"tanni-susumi-p",children:[c," : "]}),t.history.length<=2&&0===a[r].susumiryou[0]?Object(u.jsx)("input",{type:"text",placeholder:0,onChange:function(e){return m(e.currentTarget.value)}}):Object(u.jsx)("input",{type:"text",value:b,onChange:function(e){return m(e.currentTarget.value)}}),Object(u.jsx)("p",{className:"tanni-susumi-tanni",children:" mm"})]}),Object(u.jsx)("div",{className:"susumi-2",children:Object(u.jsxs)("p",{className:"tanni-susumi-p",children:["Distance : ",Object(u.jsx)("span",{children:Math.round(100*(parseFloat(b)*l+Number.EPSILON))/100})," mm"]})})]}),Object(u.jsxs)("div",{className:"tanni-wizard-buttons unselectable",children:[Object(u.jsx)(o.a,{className:"tanni-back",variant:"contained",onClick:function(){return function(){var e=Object(p.a)(t.history)[1][1];t.setWizardInput(["kikou",e])}()},children:"BACK"}),Object(u.jsx)(o.a,{className:"tanni-next",variant:"contained",onClick:function(){return function(){if(""!==b){var e=Object(p.a)(t.history);2===t.history.length?e.push(["susumiryou",Math.round(100*(parseFloat(b)*l+Number.EPSILON))/100,parseFloat(b)]):e[2]=["susumiryou",Math.round(100*(parseFloat(b)*l+Number.EPSILON))/100,parseFloat(b)],t.setHistory(e),t.setWizardInput(["gensoku",b])}else alert("Enter a value")}()},children:"NEXT"})]})]})},P=function(e){var t=e.params,a=t.tannikannsannData,r=t.history[0][1][0]-1,s=Object(n.useState)(t.history.length>=4?t.history[3][1][0]:a[r].gensoku[0]),c=Object(i.a)(s,2),l=c[0],d=c[1],j=Object(n.useState)(t.history.length>=4?t.history[3][1][1]:a[r].gensoku[1]),b=Object(i.a)(j,2),m=b[0],f=b[1],h=Object(n.useRef)(),O=Object(n.useRef)();Object(n.useEffect)((function(){(t.history.length>3&&(1!==t.history[3][1][0]||1!==t.history[3][1][1])||1!==a[r].gensoku[0]||1!==a[r].gensoku[1])&&(O.current.style.opacity="1",h.current.checked="true",O.current.querySelectorAll("input").forEach((function(e){e.readOnly=!1})))}));return Object(u.jsxs)("div",{className:"tanni-wizard unselectable",children:[Object(u.jsxs)("div",{className:"tanni-wizard-title gensoku-title",children:[Object(u.jsx)("input",{ref:h,type:"checkbox",onChange:function(e){return function(e){e.currentTarget.checked?(O.current.style.opacity="1",O.current.querySelectorAll("input").forEach((function(e){e.readOnly=!1}))):(d(1),f(1),O.current.style.opacity="0.4")}(e)}}),"Reduction ratio"]}),Object(u.jsx)("div",{ref:O,className:"tanni-wizard-selector gensoku-selector",children:Object(u.jsxs)("table",{children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Input"}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"Output"})]})}),Object(u.jsx)("tbody",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",readOnly:!0,value:l,onChange:function(e){return d(e.currentTarget.value)}})}),Object(u.jsx)("td",{children:"  :  "}),Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"text",readOnly:!0,value:m,onChange:function(e){return f(e.currentTarget.value)}})})]})})]})}),Object(u.jsxs)("div",{className:"tanni-wizard-buttons",children:[Object(u.jsx)(o.a,{className:"tanni-back",variant:"contained",onClick:function(){"\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"!==t.history[1][1]?t.setWizardInput(["susumiryou",0]):t.setWizardInput(["kikou",0])},children:"BACK"}),Object(u.jsx)(o.a,{className:"tanni-next",variant:"contained",onClick:function(){return function(){if(""!==(l&&m)){var e=Object(p.a)(t.history);3===t.history.length?e.push(["gensoku",[l,m]]):e[3]=["gensoku",[l,m]],t.setHistory(e),t.setWizardInput(["bunkai",[l,m]])}else alert("Enter a value")}()},children:"NEXT"})]})]})},I=function(e){var t=e.params,a=t.tannikannsannData,r=t.history[0][1][0]-1,s=t.history[1][1],c="",l=1,d=Object(n.useState)(5===t.history.length?t.history[4][1]:a[r].bunkai),j=Object(i.a)(d,2),b=j[0],m=j[1];if("\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u30c6\u30fc\u30d6\u30eb"===s)c="\xb0",l=360/(t.history[3][1][1]/t.history[3][1][0]);else c="mm",l=t.history[2][1]/(t.history[3][1][1]/t.history[3][1][0]);return Object(u.jsxs)("div",{className:"tanni-wizard unselectable",children:[Object(u.jsx)("p",{className:"tanni-wizard-title",children:"Minimum positioning unit"}),Object(u.jsxs)("div",{className:"tanni-wizard-selector tanni-bunkai",children:[Object(u.jsxs)("div",{className:"bunkai-1",children:[Object(u.jsx)("p",{className:"tanni-bunkai-text",children:"Resolution of motor: "}),Object(u.jsx)(A,{setItem:function(e){m(e);var a=Object(p.a)(t.history);a.length<5?a.push(["bunkai",e]):a[4]=["bunkai",e],t.setHistory(a)},defaultItem:b,itemArr:[300,600,1e3,1200,2e3,3e3,5e3,6e3,1e4,12e3]}),Object(u.jsx)("p",{className:"tanni-bunkai-text",children:"pulse/revolution"})]}),Object(u.jsx)("div",{className:"bunkai-2",children:Object(u.jsxs)("p",{className:"tanni-bunkai-text",children:["Minimum positioning unit: ",Object(u.jsx)("span",{children:function(e,t){var a=!1;void 0===t&&(t=0),e<0&&(a=!0,e*=-1);var n=Math.pow(10,t);return e=parseFloat((e*n).toFixed(11)),e=(Math.round(e)/n).toFixed(t),a&&(e=(-1*e).toFixed(t)),e}(l/parseFloat(b)+Number.EPSILON,5)})," ",c]})})]}),Object(u.jsxs)("div",{className:"tanni-wizard-buttons",children:[Object(u.jsx)(o.a,{className:"tanni-back",variant:"contained",onClick:function(){t.setWizardInput(["gensoku",0])},children:"BACK"}),Object(u.jsx)(o.a,{className:"tanni-ok",variant:"contained",onClick:function(){return function(){var n=Object(p.a)(a);t.history[0][1].forEach((function(e){n[e-1]={kikou:t.history[1][1],susumiryou:[t.history[2][1],t.history[2][2]],gensoku:t.history[3][1],bunkai:b,tanniValue:1/parseFloat(t.history[2][1])*parseFloat(b)*(parseFloat(t.history[3][1][1])/parseFloat(t.history[3][1][0]))}})),t.setTannikannsannData(n),t.setHistory([]),e.close()}()},children:"OK"})]})]})},A=function(e){var t=e.itemArr,a=e.setItem,r=Object(n.useState)(void 0!==e.defaultItem?e.defaultItem:t[0]),s=Object(i.a)(r,2),c=s[0],o=s[1],l=Object(n.useRef)(),d=Object(n.useRef)(),j=function(e){o(e.target.innerText),a(e.target.innerText),l.current.style.display="none"};return Object(u.jsxs)("div",{className:"dropdown-selector",children:[Object(u.jsxs)("div",{ref:d,className:"selected-item unselectable",onClick:function(){l.current.style.display="block"},children:[c,Object(u.jsx)("i",{className:"fas fa-angle-down"})]}),Object(u.jsx)("div",{ref:l,className:"dropdown-items unselectable",children:t.map((function(e){return Object(u.jsx)("div",{className:"dropdown-item unselectable",onClick:function(e){return j(e)},children:e},e)}))})]})},M=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),r=function(){var t={name:"cml-import",data:{jiku:e.jiku,tannikannsannData:e.tannikannsannData,programData:e.programData,loopData:e.loopData,isNyuryokuShingou:e.isNyuryokuShingou,settings:e.settings}};!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),0)}}(JSON.stringify(t),"CML-\u9014\u4e2d\u4fdd\u5b58",".txt")},s=function(e){e.current.classList.add("shown"),e.current.classList.remove("hidden"),setTimeout((function(){e.current.classList.contains("hidden")||(e.current.style.display="block")}),500)},c=function(e){e.current.classList.remove("shown"),e.current.classList.add("hidden"),e.current.style.display="none"},i=e.isMute?"volume-xmark":"volume-high",o=Object(n.useRef)(),l=Object(n.useRef)(),d=Object(n.useRef)();return Object(u.jsxs)("div",{ref:t,className:"top-menu",children:[Object(u.jsxs)("div",{className:"top-menu-button save-file unselectable",onMouseEnter:function(){return s(o)},onMouseLeave:function(){return c(o)},onClick:function(){return r()},children:[Object(u.jsx)("i",{className:"fa-solid fa-floppy-disk"}),"Save project as",Object(u.jsx)("div",{ref:o,className:"exp-box hidden",children:"Save project in progress"})]}),Object(u.jsxs)("div",{className:"top-menu-button import-file unselectable",onMouseEnter:function(){return s(l)},onMouseLeave:function(){return c(l)},children:[Object(u.jsxs)("label",{htmlFor:"top-menu-file-upload",children:[Object(u.jsx)("i",{className:"fa-solid fa-folder-open"}),"Open project",Object(u.jsx)("input",{id:"top-menu-file-upload",accept:".txt",type:"file",onChange:function(t){return function(t){var a=new FileReader;a.onload=function(){var t=Object(g.a)(Object(O.a)().mark((function t(n){var r;return Object(O.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=JSON.parse(a.result),e.setJiku(r.data.jiku),e.setTannikannsannData(r.data.tannikannsannData),e.setProgramData(r.data.programData),e.setLoopData(r.data.loopData),e.setCmlOutput(b(r.data.programData,r.data.loopData,r.data.isNyuryokuShingou,r.data.tannikannsannData,r.data.settings));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.readAsText(t.target.files[0],"utf-8")}(t)}})]}),Object(u.jsx)("div",{ref:l,className:"exp-box hidden",children:"Open a saved project"})]}),Object(u.jsxs)("div",{className:"top-menu-button tannikannsann unselectable",onMouseEnter:function(){return s(d)},onMouseLeave:function(){return c(d)},onClick:function(){return t.current.querySelector(".tannikannsann-popup").style.display="flex",void(e.layerRef.current.style.display="block")},children:[Object(u.jsx)("i",{className:"fa-solid fa-gears"}),"Unit conversion",Object(u.jsx)("div",{ref:d,className:"exp-box hidden",children:"Sets units and resolution"})]}),Object(u.jsx)(z,{jiku:e.jiku,tannikannsannData:e.tannikannsannData,setTannikannsannData:e.setTannikannsannData,application:e.application,setApplication:e.setApplication,tanniValue:e.tanniValue,setTanniValue:e.setTanniValue,layerRef:e.layerRef,topMenuRef:t,closeTanni:function(e,t){e.current.querySelector(".tannikannsann-popup").style.display="none",t.current.style.display="none"}}),Object(u.jsxs)("div",{className:"top-menu-button settings unselectable",onClick:function(){return t.current.querySelector("#settings-panel").style.display="flex",void(e.layerRef.current.style.display="block")},children:[Object(u.jsx)("i",{className:"fa-solid fa-gear"}),"Settings"]}),Object(u.jsx)(T,{closePanel:function(){t.current.querySelector("#settings-panel").style.display="none",e.layerRef.current.style.display="none"},settings:e.settings,setSettings:e.setSettings}),Object(u.jsx)("div",{className:"top-menu-button mute-button unselectable",onClick:function(t){a.current.classList.contains("fa-volume-xmark")?(a.current.classList.remove("fa-volume-xmark"),a.current.classList.add("fa-volume-high"),e.setIsMute(!1)):(a.current.classList.remove("fa-volume-high"),a.current.classList.add("fa-volume-xmark"),e.setIsMute(!0))},children:Object(u.jsx)("i",{ref:a,className:"fa-solid fa-"+i})}),Object(u.jsx)("a",{href:"https://musclecorp.com/cml-app",children:Object(u.jsxs)("div",{className:"top-menu-button language-button unselectable",children:[Object(u.jsx)("i",{className:"fa-solid fa-globe"}),"\u65e5\u672c\u8a9e"]})})]})},z=function(e){var t=function(){e.closeTanni(e.topMenuRef,e.layerRef)},a=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(["jiku",[]]),o=Object(i.a)(c,2),l=o[0],d=o[1];return Object(u.jsx)("div",{className:"wizard-controller",children:function(){var t={wizardInput:l[1],history:r,setHistory:s,setWizardInput:d,tannikannsannData:e.tannikannsannData,setTannikannsannData:e.setTannikannsannData,jiku:e.jiku};switch(l[0]){case"jiku":return Object(u.jsx)(R,{params:t});case"kikou":default:return Object(u.jsx)(L,{params:t});case"susumiryou":return Object(u.jsx)(E,{params:t});case"gensoku":return Object(u.jsx)(P,{params:t});case"bunkai":return Object(u.jsx)(I,{close:e.close,params:t})}}()})};return Object(u.jsxs)("div",{className:"tannikannsann-popup",children:[Object(u.jsx)("div",{className:"close-popup close-tannikannsann",onClick:function(){return t()},children:Object(u.jsx)("i",{className:"fas fa-times-circle"})}),Object(u.jsx)(a,{close:t,jiku:e.jiku,tannikannsannData:e.tannikannsannData,setTannikannsannData:e.setTannikannsannData})]})},B=(a(25),a.p+"static/media/popup-instruction.495acebe.png"),q=function(){for(var e=w("CML",""),t=Object(i.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),c=Object(i.a)(s,2),l=c[0],j=c[1],p=w("kNum",{kNum5:100,kNum11:0,kNum12:100,kNum13:100,kNum14:0,kNum23:100,kNum24:100,kNum25:100,kNum26:100,kNum27:0,kNum28:100}),b=Object(i.a)(p,2),m=b[0],h=b[1],O=Object(n.useState)(!1),g=Object(i.a)(O,2),x=g[0],v=g[1],k=Object(n.useState)(1),S=Object(i.a)(k,2),C=S[0],T=S[1],F=[],R=0;R<C;R++)F.push({kikou:"initial",susumiryou:[1,1],gensoku:[1,1],bunkai:300,tanniValue:1});var L=Object(n.useState)(F),E=Object(i.a)(L,2),P=E[0],I=E[1],A=Object(n.useState)([[[["\u4f4d\u7f6e\u6c7a\u3081",1,[[100,"pps"],[100,"pps"],[100,"pps"]]]],[[]],[[]]]]),z=Object(i.a)(A,2),q=z[0],J=z[1],W=Object(n.useState)([]),K=Object(i.a)(W,2),U=K[0],V=K[1],H=Object(n.useState)("\u4f4d\u7f6e\u6c7a\u3081"),X=Object(i.a)(H,2),G=X[0],Q=X[1],$=Object(n.useState)(new Array(5)),Y=Object(i.a)($,2),Z=Y[0],_=Y[1],ee=Object(n.useState)(new Array(2)),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)("none"),se=Object(i.a)(re,2),ce=se[0],ie=se[1],oe=Object(n.useRef)(),le=Object(n.useRef)(),ue=Object(n.useRef)(),de=Object(n.useRef)(),je=Object(n.useRef)(),pe=Object(n.useRef)(),be=Object(n.useRef)(),me=function(e){x||new Audio(f).play()},fe=function(e){switch(e.target.id){case"ichigime-selector":Q("\u4f4d\u7f6e\u6c7a\u3081");break;case"oshituke-selector":Q("\u62bc\u4ed8\u3051");break;case"taima-selector":Q("\u30bf\u30a4\u30de");break;case"incremental-ichigime-selector":Q("\u4f4d\u7f6e\u6c7a\u3081+");break;case"incremental-oshituke-selector":Q("\u62bc\u4ed8\u3051+");break;case"nyuryokuten-selector":Q("\u5165\u529b\u70b9\u304b\u3089\u306e\u5b9f\u884c");break;case"kurikaeshi-selector":Q("\u7e70\u308a\u8fd4\u3057");break;case"dousaGroup-selector":Q("\u52d5\u4f5c\u30b0\u30eb\u30fc\u30d7\u3092\u8ffd\u52a0");break;default:Q("NOPE")}},he=function(){!function(e,t,a){var n=new Blob([e],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,document.body.appendChild(r),r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s)}),0)}}(a,"CML-\u4fdd\u5b58",".txt")},Oe=function(e){switch(e.inputBoxType){case"typedata":return Object(u.jsx)(N,{tkData:P,setInputBoxType:ie,isInitial:Z[4],jiku:Z[0],parentId:Z[1],dousaType:Z[2],dousaNum:Z[3],programData:q,setProgramData:J});case"loop":return Object(u.jsx)(D,{setInputBoxType:ie,isInitial:ae[1],parentId:ae[0],loopData:U,setLoopData:V});default:return Object(u.jsx)(u.Fragment,{})}},ge=function(){return Object(u.jsx)("div",{className:"popup-instruction",ref:be,children:Object(u.jsxs)("div",{className:"popup-content",children:[Object(u.jsx)("div",{id:"close-instruction-popup",onClick:function(){be.current.style.display="none"},children:Object(u.jsx)("i",{className:"fas fa-times-circle"})}),Object(u.jsx)("img",{src:B,alt:"instruction"})]})})};return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)(ge,{}),Object(u.jsx)(Oe,{inputBoxType:ce}),Object(u.jsx)("div",{ref:je,className:"layer"}),Object(u.jsx)("div",{className:"top-menu-container",children:Object(u.jsx)(M,{settings:m,setSettings:h,isMute:x,setIsMute:v,tannikannsannData:P,setTannikannsannData:I,programData:q,setProgramData:J,loopData:U,setLoopData:V,layerRef:je,cmlOutput:a,setCmlOutput:r,isNyuryokuShingou:l,setIsNyuryokuShingou:j,jiku:C,setJiku:T})}),Object(u.jsxs)("div",{className:"center-section",children:[Object(u.jsx)("div",{className:"command-list-width-box"}),Object(u.jsx)("div",{className:"command-list-container",children:Object(u.jsx)("div",{className:"command-list",children:Object(u.jsxs)("div",{className:"command-list-wrapper",children:[Object(u.jsxs)("div",{onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"dousaGroup-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Add Motion Group"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"ichigime-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"PTP"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"oshituke-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Push"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"taima-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Timer"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"kurikaeshi-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Loop"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"incremental-ichigime-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"PTP+"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"incremental-oshituke-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Push+"]}),Object(u.jsxs)("div",{ref:pe,onDragStart:function(e){return me()},onMouseEnter:function(e){return fe(e)},className:"command-selector",id:"nyuryokuten-selector",draggable:"true",children:[Object(u.jsx)("i",{className:"fas fa-grip-vertical"}),"Execution from Input signal"]})]})})}),Object(u.jsxs)("div",{className:"main-interface-section",children:[Object(u.jsx)("div",{className:"program-block-container",children:Object(u.jsx)(y,{settings:m,isMute:x,tkData:P,setTkData:I,setInputBoxType:ie,inputBoxType:ce,loopInputObj:ae,setLoopInputObj:ne,typeDataObj:Z,setTypeDataObj:_,typeDataRef:oe,loopInputRef:le,isNyuryokuShingou:l,setCmlOutput:r,loopData:U,setLoopData:V,programData:q,setProgramData:J,jiku:C,setJiku:T,currentDraggedCommand:G,setCurrentDraggedCommand:Q})}),Object(u.jsx)("div",{className:"cml-output-container",children:Object(u.jsxs)("div",{className:"cml-output-section",children:[Object(u.jsx)("h3",{className:"unselectable",children:"CML"}),Object(u.jsx)(d,{value:a,onChange:r}),Object(u.jsxs)("div",{className:"jikkou-button",children:[Object(u.jsxs)(o.a,{variant:"contained",onClick:function(){return be.current.style.display="flex",void he()},children:["Export",Object(u.jsx)("br",{}),"text file"]}),Object(u.jsxs)("div",{className:"copy-cml-container",children:[Object(u.jsx)("div",{className:"copy-cml",onMouseEnter:function(){return(e=ue).current.classList.add("shown"),e.current.classList.remove("hidden"),void setTimeout((function(){e.current.classList.contains("hidden")||(e.current.style.display="block")}),500);var e},onMouseLeave:function(){return(e=ue).current.classList.remove("shown"),e.current.classList.add("hidden"),void(e.current.style.display="none");var e},onClick:function(){return e=a,navigator.clipboard.writeText(e),ue.current.style.display="none",de.current.style.display="block",void setTimeout((function(){de.current.style.display="none"}),2e3);var e},children:Object(u.jsx)("i",{className:"fas fa-copy"})}),Object(u.jsx)("div",{ref:ue,className:"exp-copy hidden",children:"copy"}),Object(u.jsx)("div",{ref:de,className:"exp-copy-done hidden",children:"copied!"})]})]})]})})]})]})]})},J=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(q,{})})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(J,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d1b4ebb4.chunk.js.map